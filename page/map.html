<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="../assets/lib/map/lib/openlayers_v6.4.3/css/ol.css" />
    <link rel="stylesheet" type="text/css" href="../assets/lib/map/css/ugmp_openlayers.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/style.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/common.css" />
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
	<link rel="stylesheet" type="text/css" href="../assets/lib/semantic/semantic.min.css" />
</head>
<body>
	<div class='menu-box'>
		<div class='item'>
			<a href='/index.html'>Home</a>
		</div>
		<div class='item'>
			<a href='#'>Project</a>
		</div>
		<div class='item'></div>
		<div class='item'></div>
		<div class='item'></div>
		<div class='item'></div>
		<div class='item'></div>
		<div class='item'></div>
	</div>

	<div class='hp100 flex'>
		<!-- 메뉴화면 -->
		<div class='side-content'>
			<div class='about-box'>
				<img src='../assets/images/me3.jpeg' style='width: 80px; height: 80px; border-radius: 50%;' />
				<div class='flex-1 title' >
					About me
				</div>
			</div>


			<div style='padding: 10px; overflow-y: auto;'>
				<div class="ui list">
					<div class="item">
						<i class="folder icon"></i>
						<div class="content">
							<div class="header">개발</div>
							<div class="description"></div>
							<div class="list">
								<div class="item " style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header event-box" id='geoSolution'>geoSolution (현재 구현중)</div>
									</div>
						  		</div>

								<div class="item " style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header event-box" id='land'>토지적성평가 검수 시스템</div>
									</div>
						  		</div>

								<div class="item" style='margin-bottom: 20px;'>
									<i class="folder icon"></i>
									<div class="content">
										<div class="header event-box" id='upbss_new'>기초조사 정보관리 시스템 고도화</div>
										<div class="list" style='margin-top: 5px'>
											<div class="item" >
												<i class="file icon"></i>
												<div class="content">
													<div class="header">GeoServer lib jar 구현</div>
												</div>
											</div>
										</div>
									</div>
								</div>


								<div class="item" style='margin-bottom: 20px;'>
									<i class="folder icon"></i>
									<div class="content">
										<div class="header event-box" id='portal'>도시재생지원센터 포털시스템(춘천시/진주시)</div>
										<div class="list" style='margin-top: px'>
											<div class="item" >
												<i class="file icon"></i>
												<div class="content">
													<div class="header" style='margin-bottom: 5px;'>리빙랩 관리자 페이지</div>
												</div>
											</div>
											
											<div class="item" style='margin-top: 5px;'>
												<i class="file icon"></i>
												<div class="content">
													<div class="header" style='margin-bottom: 5px;'>리빙랩 사용자 페이지</div>
												</div>
											</div>
											
											<div class="item" style='margin-top: 5px;'>
												<i class="file icon"></i>
												<div class="content">
													<div class="header">리빙랩 컨텐츠 생성 템플릿 js모듈 구현</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								

								<div class="item" style='margin-bottom: 20px;'>
									<i class="folder icon"></i>
									<div class="content">
										<div class="header event-box" id='platform'>춘천시 도시재생 정보분석 플랫폼</div>
										<div class="list" style='margin-top: 5px'>
											<div class="item" >
												<i class="file icon"></i>
												<div class="content">
													<div class="header">openlayers 6.5.0 기반의 모듈 구현
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="item" style='margin-bottom: 20px;'>
									<i class="folder icon"></i>
									<div class="content">
										<div class="header event-box" id='upbss'>기초조사 정보관리 시스템</div>
										<div class="list" style='margin-top: 5px'>
											<div class="item" >
												<i class="file icon"></i>
												<div class="content">
													<div class="header">시나리오 모델링을 위한 SVG기반의 모듈 구현</div>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
										<div class="header event-box" id='raise'>농산어촌지역개발 공간정보시스템</div>
									</div>
								</div>

							</div>
					  	</div>
					</div>

					<div style='height: 50px;'></div>
					
					<div class="item">
						<i class="folder icon"></i>
						<div class="content">
							<div class="header">DB 구축</div>
							<div class="description"></div>
							<div class="list">
						  		<div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header">도로명주소 위치정확도 개선사업</div>
									</div>
						  		</div>

								  <div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header">행정공간정보체계 구축 시스템</div>
									</div>
						  		</div>
								
								  <div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header">부산광역시 수치지형도 시스템</div>
									</div>
						  		</div>

								  <div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header">통계청 센서스 지도 DB구축</div>
									</div>
						  		</div>

								  <div class="item" style='margin-bottom: 20px;'>
									<i class="file icon"></i>
									<div class="content">
							  			<div class="header">광산지리정보시스템</div>
									</div>
						  		</div>

							</div>
					  	</div>
					</div>

				</div>
			</div>
			
		</div>

		<!-- 지도화면 -->
		<div class='content-container'>
			<!-- 로드뷰 -->
			<div class='road-view-close'>
				<i class='close icon'></i>
			</div>
			<div id='roadView' class='road-view'>
			</div>

			<div id="map" class='user-map'></div>
        	<div id="baseMap" class='base-map'></div>
		</div>


		<!-- 도구 -->
		<div>
            <div style='top: 100px; position: absolute; width: 30px; z-index: 200; left: auto; right: 12px;'>
                <div class='control-button map-options-btn' id='mapOptions'>
                    <i class="clone outline icon btn-icon"></i>
                </div>
                <div class='control-button map-roadview-btn' style='margin-top: 5px;' id='mapRoadView'>
                    <i class="map outline icon btn-icon"></i>
                </div>
            </div>
		</div>

	</div>


	<!-- 모달팝업 -->

	<!-- 자기소개 -->
	<div class="ui modal profile">
		<i class="close icon"></i>
		<div class="header">제목</div>
		<div class="image content">
			<div class="ui medium image">
				<img src="../assets/images/me.png" style='border-radius: 50%;;'>
		  	</div>
		  	<div class="description">
				<div class="ui header">instargram</div>
				<a href='https://www.instagram.com/topnfriends/'>https://www.instagram.com/topnfriends</a>
			</div>
		</div>
		<div class="actions">
			<div class="ui positive right labeled icon button">
				ok
				<i class="checkmark icon"></i>
			</div>
		</div>
	</div>

	<!-- 사업설명 -->
	<div class="ui modal project-modal large">
		<div class="content">
			<div style='font-weight: bold; color: gray;'>프로젝트 이미지</div>
			<div class="img-box"></div>

			<div style='font-weight: bold; color: gray;'>사용스킬</div>
			<div class="skil-box"></div>

			<div style='margin: 30px 0'>
				<div style='font-weight: bold; color: gray;'>프로젝트 소개</div>
				<div class='project-description' style='margin-top: 10px; text-indent: 20px; color: #8b8b8b;'></div>
			</div>

			<div style='margin: 30px 0'>
				<div style='font-weight: bold; color: gray;'>업무</div>
				<ul class='project-part' style='margin-top: 10px; text-indent: 5px; color: #8b8b8b;'></ul>
				<!-- <div class='project-part' style='margin-top: 10px; text-indent: 20px; color: #8b8b8b;'></div> -->
			</div>
		</div>

		<div class="actions">
			<div class="ui positive right labeled icon button">
				ok
				<i class="checkmark icon"></i>
			</div>
		</div>
	</div>
</body>

<script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ccb4062b0bf4e9544700cbe7389061ef&libraries=services"></script>
<script type="text/javascript" src='../assets/lib/map/lib/jquery_3.5.1/js/jquery-3.5.1.min.js'></script>
<script type="text/javascript" src="../assets/lib/map/lib/lodash/lodash.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script type="text/javascript" src="../assets/lib/map/lib/openlayers_v6.4.3/js/ol.js"></script>
<script type="text/javascript" src="../assets/lib/map/lib/semantic/semantic.min.js"></script>
<script type="text/javascript" src="../assets/lib/map/ugmp_openlayers.js"></script>
<script type="text/javascript" src="../assets/js/service.js"></script>
<script>
	var ugmp = new uitgis.ugmp();
	var mapServer = 'http://211.171.200.55:7880/geoserver';

	var home = {
		'center': [207768.96492187498, 422704.9951171875],
		'level': 11
	}


	$( function () {
		ugmp.userMap = new uitgis.userMap( {
            target: 'map',
            projection: 'EPSG:5181',
            useAltKey: false,
            center: [264088.295, 514743.94921875],
            zoom: 3,
            loading: '../assets/images/loading.gif'
        } );

		ugmp.baseMap = new uitgis.baseMap( {
            userMap: ugmp.userMap,
            baseMapType: 'daum',
            target: 'baseMap',
            style: 'normal'
        } );

		var wmsLayer = uitgis.layer.wms.wmsLayer({
			tiles: true,
			url: mapServer + '/wms',
			layers: 'sgg',
			crs: 'EPSG:5181',
			version: '1.1.1'
		});

		ugmp.userMap.addWMSLayer( wmsLayer );

		bindEvent();
	} );


	var bindEvent = function () {
		$( document ).on( 'click', '.about-box', function () {
			$( '.profile' ).modal( 'show' );
		} )
		.on( 'click', '.event-box', function ( e ) {
			var _id = e.target.id;
			var $target = $( '.img-box' );
			$target.empty();
			
			var project = _.find( projectList, function ( _project ) {
				return _project.id === _id;
			} );

			if ( project.files.length > 0 ) {
				_.forEach( project.files, function ( _file ) {
					$target.append( '<img src="../assets/images/project/' + _id + '/' + _file.filename + '" class="item" />' );
				} );
			};		

			var $skilBox = $( '.skil-box' );
			$skilBox.empty();

			var sklis = project.skil.split( ',' );
			_.forEach( sklis, function ( _skil ) {
				var tag =  '<img class="item" src="../assets/images/icons/' + _skil.trim() + '.png" alt="' + _skil.trim() + '" />';
				$skilBox.append( tag );
			} );

			$( '.project-description' ).text( project.description );

			$( '.project-part' ).empty();
			_.forEach( project.part, function ( _p ) {
				$( '.project-part' ).append( '<li style="margin: 10px 0;">' + _p + '</li>' );
			} );

			$( '.project-modal' ).modal('show');

		} );

		var zoomControl = ( function() {
            var button = document.createElement('button');
            button.innerHTML = ugmp.userMap.getMap().getView().getZoom();
            button.id = "zoomLv";
            button.style.width = '25px';
            button.style.height = '25px';
            button.style.fontSize = '13px';

            var element = document.createElement("div");
            element.className = "control-layer ol-unselectable ol-control";

            element.appendChild( button );
            return element;
        })();

		ugmp.userMap.getMap().addControl( new ol.control.Control( {
            element : ( function() {
                var button = document.createElement( 'button' );
                button.innerHTML = ugmp.userMap.getMap().getView().getZoom();
                button.id = 'zoomLv';
                button.classList.add( 'zoom-lv' );

                var element = document.createElement( 'div' );
                element.className = 'ol-zoom ol-unselectable ol-control zoom-lv-box';
                element.appendChild( button );

                return element;
            } )()
        } ) );

		ugmp.userMap.getMap().on( 'moveend', function( e ) {
            var _zoomLv = ugmp.userMap.getMap().getView().getZoom();
            $( '.zoom-lv' ).text( _zoomLv );
        } );
	}
</script>
</html>